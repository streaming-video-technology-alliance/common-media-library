## API Report File for "@svta/cml-drm"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { Encoding } from '@svta/cml-utils/Encoding.js';
import { UTF_16 } from '@svta/cml-utils/UTF_16.js';
import type { UTF_8 } from '@svta/cml-utils/UTF_8.js';
import type { ValueOf } from '@svta/cml-utils/ValueOf.js';

// @beta
export const CBCS = "cbcs";

// @beta
export const CENC = "cenc";

// @beta
export const CHALLENGE = "Challenge";

// @beta
export const CLEAR_KEY_SYSTEM = "org.w3.clearkey";

// @beta
export const CLEAR_KEY_UUID = "e2719d58-a985-b3c9-781a-b030af78d30e";

// @beta
export function concatInitDataIdAndCertificate(initData: Uint16Array, id: Uint16Array | string, cert: Uint8Array): Uint8Array;

// @beta
export const CONTENT_TYPE = "Content-Type";

// @beta
export type ContentProtection = {
    schemeIdUri?: string;
    value?: string;
    pssh?: string;
    laUrl?: string;
};

// @beta
export function createMediaKeySystemConfiguration(supportedAudio: MediaKeySystemMediaCapability[] | null, supportedVideo: MediaKeySystemMediaCapability[] | null): MediaKeySystemConfiguration;

// @beta
export function decodeFairPlayLicense(response: string | ArrayBuffer): Uint8Array;

// @beta
export const EncryptionScheme: {
    readonly CENC: typeof CENC;
    readonly CBCS: typeof CBCS;
};

// @beta
export type EncryptionScheme = ValueOf<typeof EncryptionScheme>;

// @beta
export const EXPIRED = "expired";

// @beta
export function extractContentId(initData: ArrayBuffer, encoding?: Encoding): string;

// @beta
export const FAIRPLAY_KEY_SYSTEM = "com.apple.fps.1_0";

// @beta
export const FAIRPLAY_UUID = "29701fe4-3cc7-4a34-8c5b-ae90c7439a47";

// @beta
export function findCencContentProtection(cpArray: ContentProtection[]): ContentProtection | null;

// @beta
export function getId(licenseServerUrl: string, initData: ArrayBuffer, queryParam?: string): string;

// @beta
export function getKeySystemAccess(requests: MediaKeySystemAccessRequest[]): Promise<MediaKeySystemAccess | null>;

// @beta
export function getLegacyKeySystemAccess(requests: MediaKeySystemAccessRequest[]): MediaKeySystemAccessRequest | null;

// @beta
export function getLicenseRequestFromMessage(message: ArrayBuffer, encoding?: Encoding): ArrayBuffer;

// @beta
export function getLicenseServerUrl(initData: Uint16Array): string;

// @beta
export function getLicenseServerUrlFromContentProtection(contentProtectionElements: ContentProtection[], schemeIdUri: string): string | null;

// @beta
export function getPsshData(pssh: ArrayBuffer): ArrayBuffer;

// @beta
export function getPsshForKeySystem(uuid: string, initData: ArrayBuffer): ArrayBuffer | null;

// @beta
export function getRequestHeadersFromMessage(message: ArrayBuffer, encoding?: typeof UTF_8 | typeof UTF_16): Record<string, string>;

// @beta
export function getSupportedKeySystemConfiguration(keySystem: string, configs: Iterable<MediaKeySystemConfiguration>): {
    supportedAudio: MediaKeySystemMediaCapability[];
    supportedVideo: MediaKeySystemMediaCapability[];
};

// @beta
export const HTTP_HEADERS = "HttpHeaders";

// @beta
export const HW_SECURE_ALL = "HW_SECURE_ALL";

// @beta
export const HW_SECURE_CRYPTO = "HW_SECURE_CRYPTO";

// @beta
export const HW_SECURE_DECODE = "HW_SECURE_DECODE";

// @beta
export const INDIVIDUALIZATION_REQUEST = "individualization-request";

// @beta
export const InitializationDataType: {
    readonly CENC: typeof CENC;
    readonly CBCS: typeof CBCS;
    readonly KEYIDS: typeof KEYIDS;
    readonly WEBM: typeof WEBM;
};

// @beta
export type InitializationDataType = ValueOf<typeof InitializationDataType>;

// @beta
export const INTERNAL_ERROR = "internal-error";

// @beta
export const KEYIDS = "keyids";

// @beta
export const LICENSE_ACQUISITION = "LicenseAcquisition";

// @beta
export const LICENSE_RELEASE = "license-release";

// @beta
export const LICENSE_RENEWAL = "license-renewal";

// @beta
export const LICENSE_REQUEST = "license-request";

// @beta
export type LicenseRequest = {
    url: string;
    method: 'GET' | 'POST';
    responseType: XMLHttpRequestResponseType;
    headers?: Record<string, string>;
    withCredentials?: boolean;
    messageType?: MediaKeyMessageType;
    sessionId?: string;
    data?: ArrayBuffer;
};

// @beta
const MediaKeyMessageType_2: {
    readonly LICENSE_REQUEST: typeof LICENSE_REQUEST;
    readonly LICENSE_RENEWAL: typeof LICENSE_RENEWAL;
    readonly LICENSE_RELEASE: typeof LICENSE_RELEASE;
    readonly INDIVIDUALIZATION_REQUEST: typeof INDIVIDUALIZATION_REQUEST;
};

// @beta
type MediaKeyMessageType_2 = ValueOf<typeof MediaKeyMessageType_2>;
export { MediaKeyMessageType_2 as MediaKeyMessageType }

// @beta
const MediaKeyStatus_2: {
    readonly USABLE: typeof USABLE;
    readonly EXPIRED: typeof EXPIRED;
    readonly RELEASED: typeof RELEASED;
    readonly OUTPUT_RESTRICTED: typeof OUTPUT_RESTRICTED;
    readonly OUTPUT_DOWNSCALED: typeof OUTPUT_DOWNSCALED;
    readonly STATUS_PENDING: typeof STATUS_PENDING;
    readonly INTERNAL_ERROR: typeof INTERNAL_ERROR;
};

// @beta
type MediaKeyStatus_2 = ValueOf<typeof MediaKeyStatus_2>;
export { MediaKeyStatus_2 as MediaKeyStatus }

// @public
export type MediaKeySystemAccessRequest = {
    keySystem: string;
    configurations: MediaKeySystemConfiguration[];
};

// @beta
export const MP4_PROTECTION_SCHEME = "urn:mpeg:dash:mp4protection:2011";

// @beta
export const OUTPUT_DOWNSCALED = "output-downscaled";

// @beta
export const OUTPUT_RESTRICTED = "output-restricted";

// @beta
export function parseInitDataFromContentProtection(cpData: ContentProtection, BASE64: {
    decodeArray: (input: string) => Uint8Array;
}): ArrayBuffer | null;

// @beta
export function parsePsshList(data: ArrayBuffer): Record<string, ArrayBuffer>;

// @beta
export const PLAYREADY_KEY_MESSAGE = "PlayReadyKeyMessage";

// @beta
export const PLAYREADY_KEY_SYSTEM = "com.microsoft.playready";

// @beta
export const PLAYREADY_RECOMMENDATION_KEY_SYSTEM = "com.microsoft.playready.recommendation";

// @beta
export const PLAYREADY_UUID = "9a04f079-9840-4286-ab92-e65be0885f95";

// @beta
export const RELEASED = "released";

// @beta
export const STATUS_PENDING = "status-pending";

// @beta
export const SW_SECURE_CRYPTO = "SW_SECURE_CRYPTO";

// @beta
export const SW_SECURE_DECODE = "SW_SECURE_DECODE";

// @beta
export const TEXT_XML_UTF8 = "text/xml; charset=utf-8";

// @beta
export function toBigEndianKeyId(keyId: ArrayBuffer): ArrayBuffer;

// @beta
export const USABLE = "usable";

// @beta
export const W3C_CLEAR_KEY_UUID = "1077efec-c0b2-4d02-ace3-3c1e52e2fb4b";

// @beta
export const WEBM = "webm";

// @beta
export const WIDEVINE_KEY_SYSTEM = "com.widevine.alpha";

// @beta
export const WIDEVINE_UUID = "edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";

// @beta
export const WidevineRobustness: {
    readonly SW_SECURE_CRYPTO: typeof SW_SECURE_CRYPTO;
    readonly SW_SECURE_DECODE: typeof SW_SECURE_DECODE;
    readonly HW_SECURE_CRYPTO: typeof HW_SECURE_CRYPTO;
    readonly HW_SECURE_DECODE: typeof HW_SECURE_DECODE;
    readonly HW_SECURE_ALL: typeof HW_SECURE_ALL;
};

// @beta
export type WidevineRobustness = ValueOf<typeof WidevineRobustness>;

```
