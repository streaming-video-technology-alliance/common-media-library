## API Report File for "@svta/cml-cmaf-ham"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { FAIRPLAY_KEY_SYSTEM } from '@svta/cml-drm';
import { PLAYREADY_KEY_SYSTEM } from '@svta/cml-drm';
import { ValueOf } from '@svta/cml-utils';
import { WIDEVINE_KEY_SYSTEM } from '@svta/cml-drm';

// @alpha
export type AdaptationSet = {
    $: {
        audioSamplingRate?: string;
        codecs?: string;
        contentType?: string;
        frameRate?: string;
        group?: string;
        id?: string;
        lang?: string;
        maxBandwidth?: string;
        maxFrameRate?: string;
        maxHeight?: string;
        maxWidth?: string;
        mimeType?: string;
        minBandwidth?: string;
        par?: string;
        sar?: string;
        segmentAlignment: string;
        startWithSAP?: string;
        subsegmentAlignment?: string;
        subsegmentStartsWithSAP?: string;
    };
    AudioChannelConfiguration?: AudioChannelConfiguration[];
    ContentComponent?: ContentComponent[];
    Role?: Role[];
    Representation: Representation[];
    SegmentTemplate?: SegmentTemplate[];
    SegmentList?: SegmentList[];
};

// @alpha
export type AddressableObject = {
    url: string;
    byteRange?: {
        start: number;
        end: number;
    };
};

// @alpha
export type AlignedSwitchingSet = {
    switchingSets: SwitchingSet[];
};

// @alpha
export const AUDIO: "audio";

// @alpha
export type AudioChannelConfiguration = {
    $: {
        schemeIdUri: string;
        value: string;
    };
};

// @alpha
export type AudioTrack = Track & {
    sampleRate: number;
    channels: number;
};

// @alpha
export type Base = {
    baseUrls: string[];
};

// @alpha
export type Byterange = {
    length: number;
    offset: number;
};

// @alpha
export type ByteRangeObject = {
    start: number;
    end: number;
};

// @alpha
export function byteRangeToDashString(byteRange: ByteRangeObject | undefined): string;

// @alpha
export function byteRangeToHlsString(byteRange: ByteRangeObject | undefined): string;

// Warning: (ae-internal-missing-underscore) The name "calculateDuration" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function calculateDuration(duration: string | undefined, timescale: string | undefined): number;

// @alpha
export const CBCS: "cbcs";

// @alpha
export const CENC: "cenc";

// @alpha (undocumented)
export type ContentComponent = {
    $: {
        contentType: string;
        id: string;
    };
};

// @alpha
export type DashManifest = {
    MPD: {
        $?: {
            maxSegmentDuration?: string;
            mediaPresentationDuration?: string;
            minBufferTime?: string;
            profiles?: string;
            type?: string;
            xmlns?: string;
        };
        Period: Period[];
    };
};

// Warning: (ae-internal-missing-underscore) The name "DashParser" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type DashParser = (raw: string) => DashManifest;

// Warning: (ae-internal-missing-underscore) The name "DashSerializer" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type DashSerializer = (json: DashManifest) => string;

// @alpha
export function dashToHam(manifest: string): Presentation[];

// @alpha
export function decodeByteRange(byteRange: Byterange | undefined): string;

// @alpha
export type Duration = {
    duration: number;
};

// @alpha
export const DYNAMIC: "dynamic";

// @alpha
export function encodeByteRange(track: VideoTrack | AudioTrack): string;

// @alpha
type Event_2 = {
    messageData: string;
    duration: number;
    id: string;
    presentationTime: number;
    adjustedPresentationTime?: number;
    schemeIdUri: string;
};
export { Event_2 as Event }

// @alpha
export type EventStream = {
    schemeIdUri: string;
    timescale: number;
    events: Event_2[];
    presentationTimeOffset: number;
};

// @alpha
export function formatSegments(segments: SegmentHls[]): Segment[];

// @alpha
export type FrameRate = {
    frameRateNumerator: number;
    frameRateDenominator?: number;
};

// Warning: (ae-internal-missing-underscore) The name "getChannels" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getChannels(adaptationSet: AdaptationSet, representation: Representation): number;

// Warning: (ae-internal-missing-underscore) The name "getCodec" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getCodec(adaptationSet: AdaptationSet, representation: Representation): string;

// Warning: (ae-internal-missing-underscore) The name "getContentType" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getContentType(adaptationSet: AdaptationSet, representation?: Representation): string;

// Warning: (ae-internal-missing-underscore) The name "getDashParser" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getDashParser(): DashParser;

// Warning: (ae-internal-missing-underscore) The name "getDashSerializer" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getDashSerializer(): DashSerializer;

// @alpha
export function getDuration(manifest: HlsManifest, segments: SegmentHls[]): number | null;

// Warning: (ae-internal-missing-underscore) The name "getFrameRate" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getFrameRate(adaptationSet: AdaptationSet, representation: Representation): FrameRate;

// Warning: (ae-internal-missing-underscore) The name "getGroup" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getGroup(adaptationSet: AdaptationSet): string;

// @alpha
export function getHlsCodec(type: string, codecs?: string): string;

// Warning: (ae-internal-missing-underscore) The name "getHlsParser" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getHlsParser(): HlsParser;

// Warning: (ae-internal-missing-underscore) The name "getLanguage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getLanguage(adaptationSet: AdaptationSet): string;

// Warning: (ae-internal-missing-underscore) The name "getNumberOfSegments" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getNumberOfSegments(segmentTemplate: SegmentTemplate, duration: number): number;

// @alpha
export function getPlaylistData(track: AudioTrack | VideoTrack): string;

// Warning: (ae-internal-missing-underscore) The name "getPresentationId" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getPresentationId(period: Period, duration: number): string;

// Warning: (ae-internal-missing-underscore) The name "getSampleRate" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getSampleRate(adaptationSet: AdaptationSet, representation: Representation): number;

// Warning: (ae-internal-missing-underscore) The name "getSar" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getSar(adaptationSet: AdaptationSet, representation: Representation): string;

// @alpha
export function getSegments(segments: Segment[]): string;

// Warning: (ae-internal-missing-underscore) The name "getTimescale" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getTimescale(track: Track): number;

// Warning: (ae-internal-missing-underscore) The name "getTrackDuration" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getTrackDuration(segments: Segment[]): number;

// @alpha
export function getTracksFromPresentation(presentation: Presentation, predicate?: (track: Track) => boolean): Track[];

// @alpha
export function getTracksFromSelectionSet(selectionSet: SelectionSet, predicate?: (track: Track) => boolean): Track[];

// @alpha
export function getTracksFromSwitchingSet(switchingSet: SwitchingSet, predicate?: (track: Track) => boolean): Track[];

// Warning: (ae-internal-missing-underscore) The name "getUrlFromTemplate" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getUrlFromTemplate(representation: Representation, segmentTemplate: SegmentTemplate, segmentId: number): string;

// @alpha
export function getUrlInitialization(track: VideoTrack | AudioTrack): string;

// @alpha
export type Ham = {
    id: string;
};

// @alpha
export function hamToDash(presentation: Presentation[]): ManifestFile;

// @alpha
export function hamToHls(presentation: Presentation[]): ManifestFile;

// @alpha
export function hlsByterangeToByteRangeObject(byterange: {
    length: number;
    offset: number;
} | undefined): ByteRangeObject | undefined;

// @alpha
export type HlsManifest = {
    playlists: PlayList[];
    mediaGroups: MediaGroups;
    segments: SegmentHls[];
    targetDuration?: number;
};

// Warning: (ae-internal-missing-underscore) The name "HlsParser" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type HlsParser = (text: string) => HlsManifest;

// @alpha
export function hlsToHam(manifest: string, ancillaryManifests: string[]): Presentation[];

// @alpha
export const IMAGE: "image";

// @alpha
export type Initialization = {
    $: {
        range?: string;
        sourceURL?: string;
    };
};

// Warning: (ae-internal-missing-underscore) The name "iso8601DurationToNumber" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function iso8601DurationToNumber(isoDuration: string): number;

// @alpha
export type KeySystem = typeof FAIRPLAY_KEY_SYSTEM | typeof PLAYREADY_KEY_SYSTEM | typeof WIDEVINE_KEY_SYSTEM;

// @alpha
export type KeySystemMap = Record<KeySystem, {
    pssh: string;
}>;

// @alpha
export type ManifestFile = {
    type: ManifestFormat;
    manifest: string;
    fileName?: string;
    ancillaryManifests?: ManifestFile[];
    metadata?: Map<string, string>;
};

// @alpha
export type ManifestFormat = "hls" | "dash";

// @alpha
export const ManifestType: {
    readonly DYNAMIC: typeof DYNAMIC;
    readonly STATIC: typeof STATIC;
};

// @alpha
export type ManifestType = ValueOf<typeof ManifestType>;

// Warning: (ae-internal-missing-underscore) The name "mapSegmentBase" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function mapSegmentBase(representation: Representation, duration: number): Segment[];

// Warning: (ae-internal-missing-underscore) The name "mapSegmentList" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function mapSegmentList(segmentList: SegmentList[]): Segment[];

// Warning: (ae-internal-missing-underscore) The name "mapSegments" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function mapSegments(adaptationSet: AdaptationSet, representation: Representation, duration: number): Segment[];

// Warning: (ae-internal-missing-underscore) The name "mapSegmentTemplate" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function mapSegmentTemplate(representation: Representation, duration: number, segmentTemplate: SegmentTemplate): Segment[];

// @alpha
export type MediaGroups = {
    AUDIO: Record<string, Record<string, {
        language: string;
    }>>;
    SUBTITLES: Record<string, Record<string, {
        language: string;
    }>>;
};

// Warning: (ae-internal-missing-underscore) The name "numberToIso8601Duration" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function numberToIso8601Duration(duration: number): string;

// @alpha
export function parseByteRangeString(byteRangeString: string | undefined): ByteRangeObject | undefined;

// Warning: (ae-internal-missing-underscore) The name "parseDashManifest" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function parseDashManifest(raw: string): DashManifest;

// Warning: (ae-internal-missing-underscore) The name "parseHlsManifest" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function parseHlsManifest(text?: string): HlsManifest;

// @alpha
export type Period = {
    $: {
        duration: string;
        id?: string;
        start?: string;
    };
    AdaptationSet: AdaptationSet[];
};

// @alpha
export type PlayList = {
    uri: string;
    attributes: {
        FRAME_RATE: number;
        CODECS: string;
        BANDWIDTH: number;
        RESOLUTION: {
            width: number;
            height: number;
        };
    };
};

// @alpha
export type Presentation = Ham & Duration & Base & {
    selectionSets: SelectionSet[];
    startTime: number;
    endTime: number;
    eventStreams?: EventStream[];
};

// @alpha
export type Protection = {
    defaultKid: string;
    keySystems: KeySystemMap;
    scheme: ProtectionScheme;
};

// @alpha
export const ProtectionScheme: {
    readonly CENC: typeof CENC;
    readonly CBCS: typeof CBCS;
};

// @alpha
export type ProtectionScheme = ValueOf<typeof ProtectionScheme>;

// @alpha
export type Representation = {
    $: {
        audioSamplingRate?: string;
        bandwidth: string;
        codecs?: string;
        frameRate?: string;
        height?: string;
        id: string;
        mimeType?: string;
        sar?: string;
        scanType?: string;
        startWithSAP?: string;
        width?: string;
    };
    AudioChannelConfiguration?: AudioChannelConfiguration[];
    BaseURL?: string[];
    SegmentBase?: SegmentBase[];
    SegmentList?: SegmentList[];
    SegmentTemplate?: SegmentTemplate[];
};

// @alpha
export type Role = {
    $: {
        schemeIdUri: string;
        value: string;
    };
};

// @alpha
export type Segment = Ham & AddressableObject & Duration & {
    startTime: number;
};

// @alpha
export type SegmentBase = {
    $: {
        indexRange: string;
        indexRangeExact: string;
        timescale: string;
    };
    Initialization: Initialization[];
};

// @alpha
export type SegmentHls = {
    title?: string;
    duration: number;
    byterange?: Byterange;
    uri?: string;
    timeline?: number;
    map?: {
        uri: string;
        byterange: Byterange;
    };
};

// @alpha
export type SegmentList = {
    $: {
        duration: string;
        timescale: string;
    };
    Initialization: Initialization[];
    SegmentURL?: SegmentURL[];
};

// @alpha
export type SegmentTemplate = {
    $: {
        duration: string;
        initialization: string;
        media: string;
        startNumber: string;
        timescale: string;
    };
};

// @alpha
export type SegmentURL = {
    $: {
        media?: string;
    };
};

// @alpha
export type SelectionSet = Ham & {
    switchingSets: SwitchingSet[];
    alignedSwitchingSets?: AlignedSwitchingSet[];
    type: TrackType;
};

// Warning: (ae-internal-missing-underscore) The name "serializeDashManifest" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function serializeDashManifest(json: DashManifest): string;

// Warning: (ae-internal-missing-underscore) The name "setDashParser" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function setDashParser(parser: DashParser): void;

// Warning: (ae-internal-missing-underscore) The name "setDashSerializer" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function setDashSerializer(serializer: DashSerializer): void;

// Warning: (ae-internal-missing-underscore) The name "setHlsParser" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function setHlsParser(parser: HlsParser): void;

// @alpha
export const STATIC: "static";

// @alpha
export type SwitchingSet = Ham & Base & {
    tracks: Track[];
    protection?: Protection;
    role?: string;
};

// @alpha
export const TEXT: "text";

// @alpha
type TextTrack_2 = Track;
export { TextTrack_2 as TextTrack }

// @alpha
export type Track = Ham & Base & Duration & AddressableObject & {
    type: TrackType;
    codecs: string[];
    mimeType: string;
    language?: string;
    bandwidth: number;
    initialization: AddressableObject;
    segments: Segment[];
    segmentIndex?: AddressableObject & {
        timescale: number;
    };
    presentationTimeOffset?: number;
};

// @alpha
export const TrackType: {
    readonly AUDIO: typeof AUDIO;
    readonly VIDEO: typeof VIDEO;
    readonly TEXT: typeof TEXT;
    readonly IMAGE: typeof IMAGE;
};

// @alpha
export type TrackType = ValueOf<typeof TrackType>;

// @alpha
export function validatePresentation(presentation: Presentation): Validation;

// @alpha
export function validateSegment(segment: Segment, trackId?: string, prevValidation?: Validation): Validation;

// @alpha
export function validateSegments(segments: Segment[], trackId?: string, prevValidation?: Validation): Validation;

// @alpha
export function validateSelectionSet(selectionSet: SelectionSet, presentationId?: string, prevValidation?: Validation): Validation;

// @alpha
export function validateSelectionSets(selectionSets: SelectionSet[], presentationId?: string, prevValidation?: Validation): Validation;

// @alpha
export function validateSwitchingSet(switchingSet: SwitchingSet, selectionSetId?: string, prevValidation?: Validation): Validation;

// @alpha
export function validateSwitchingSets(switchingSets: SwitchingSet[], selectionSetId?: string, prevValidation?: Validation): Validation;

// @alpha
export function validateTrack(track: Track, switchingSetId?: string, prevValidation?: Validation): Validation;

// @alpha
export function validateTracks(tracks: Track[], switchingSetId?: string, prevValidation?: Validation): Validation;

// @alpha
export type Validation = {
    status: boolean;
    errorMessages: string[];
};

// @alpha
export const VIDEO: "video";

// @alpha
export type VideoTrack = Track & {
    width: number;
    height: number;
    frameRate: FrameRate;
    par: string;
    sar: string;
    scanType: string;
};

// (No @packageDocumentation comment for this package)

```
