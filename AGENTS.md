# Bash commands

- npm run build -w <workspace>: Build the a module
- npm run typecheck: Run the typechecker
- npm test -w <workspace>: Run the tests for a module
- npm run format: Run the formatter
- npm run ver <package> <version>: Update the version for a package. The package identifier is the name of the package folder minus the `libs/` prefix, e.g. `iso-bmff`. The version should be in semver format `x.x.x` or `x.x.x-alpha.x`.

# Code style

- Use TypeScript strict mode.
- Use ES modules (import/export) syntax, not CommonJS (require)
- Destructure imports when possible (eg. import { foo } from 'bar')

# Workflow

- Be sure to typecheck when youâ€™re done making a series of code changes
- Always run the typechecker against the entire project
- Prefer running builds and tests at the workspace level
- Always create tests for new members of a package's public API
- Always update the package's version in the package.json file using semantic versioning based on the changes made
- Always update the package's CHANGELOG.md when making changes
- When a package's version changes, always create a patch version change to any other packages that depend on it

# Documentation

- Use `{@includeCode ../test/<file>.test.ts#example}` in TSDoc to reference test examples
- Mark example regions in tests with `// #region example` and `// #endregion example`
- Public API changes are tracked in `config/cml-*.api.md` (regenerated by build)
- Use GitHub Flavored Markdown (GFM) for documentation.

# Testing

- Tests are located in `<package>/test/`
- Test use the bundled module (not the source code), so build the package before running tests
- Include an example test case (with `#region example`) for documentation purposes

## Git Commit Guidelines

- All commits must be signed off by the author (DCO).
- Follow the conventional commit format (e.g., `feat:`, `fix:`).
